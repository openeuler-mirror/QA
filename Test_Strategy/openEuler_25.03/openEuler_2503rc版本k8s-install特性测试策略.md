![avatar](../images/openEuler.png)

版权所有 © 2022  openEuler社区
您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA 4.0”)的约束。为了方便用户理解，您可以通过访问https://creativecommons.org/licenses/by-sa/4.0/ 了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA 4.0的完整协议内容您可以访问如下网址获取：https://creativecommons.org/licenses/by-sa/4.0/legalcode。

修订记录

| 日期 | 修订版本 | 修改描述 | 作者 |
| ---- | -------- | -------- | ---- |
| 2025.3.10 | V1.0 | 审核通过 | 王麟 |

关键词：k8s-install, 云原生, 部署工具

摘要：本策略文档详细规划了k8s-install工具在openEuler 2503rc版本上的测试方法和步骤，旨在确保该工具在不同环境下的稳定性和可靠性。

缩略语清单：

| 缩略语 | 英文全名 | 中文解释 |
| ------ | -------- | -------- |
| k8s | Kubernetes | 容器编排系统 |
| rpm | Red Hat Package Manager | 软件包管理格式 |

# 特性描述

## 需求清单
|no|feature|status|sig|owner|发布方式|涉及软件包列表|
|:----|:---|:---|:--|:----|:----|:----|
|1|支持在线和离线安装|已完成|云原生|王麟|rpm包|k8s-install|
|2|支持多种系统架构和版本|已完成|云原生|王麟|rpm包|k8s-install|
|3|提供丰富的参数配置选项|已完成|云原生|王麟|rpm包|k8s-install|

## 特性应用场景分析
1. 快速部署Kubernetes集群，节省时间和人力成本。
2. 在不同系统架构x86_64和aarch64上安装Kubernetes集群，保证版本上实现一致的部署体验。
3. 支持灵活的配置，满足不同用户的需求。

## 特性实现流程描述
1. 用户下载并安装k8s-install工具。
2. 用户通过命令行界面，使用不同的参数进行安装配置。
3. 工具自动完成环境检测、软件包安装、配置文件生成等操作。
4. 用户验证安装结果，确保集群正常运行。

## 与其他特性交互描述
k8s-install工具与其他云原生工具和系统协同工作，如docker、containerd、kubectl等。

## 风险项
1. 不同系统版本和架构可能存在兼容性问题。
2. 离线安装时，包的完整性和依赖关系可能受到影响。
3. 参数配置错误可能导致安装失败或运行异常。

# 特性分层策略

## 总体测试策略
主要开展功能测试、场景测试和专项测试，确保工具在各种环境下的稳定性和可靠性。

## 接口/功能测试
| 接口描述 | 设计思路 | 测试重点 | 备注 |
| ------- | ------- | ------- | ---- |
| 安装命令接口 | 验证在线和离线安装功能 | 安装过程的正确性、依赖包的完整性 |  |
| 参数配置接口 | 验证各种参数的正确性和兼容性 | 参数的组合使用、非法参数的处理 |  |

## 场景测试
| 场景描述 | 设计思路 | 测试重点 | 备注 |
| ------- | ------- | ------- | ---- |
| 全新环境安装 | 在纯净系统2503rc上进行安装 | 安装过程的流畅性、配置的正确性 |  |

## 专项测试
| 专项测试类型 | 专项测试描述 | 测试预期结果 | 备注 |
| ----------- | ----------- | ----------- | ---- |
| 性能测试 | 评估在高负载情况下的响应能力和稳定性 | 性能表现稳定，响应及时 |  |

# 特性测试执行策略

## 特性测试依赖描述
1. 硬件环境：支持x86_64和aarch64架构的服务器。
2. 软件环境：2503rc版本openEuler系统。
3. 网络环境：在线安装需要稳定的网络连接，离线安装需要提前自定义准备离线包。

## 特性测试约束
1. 测试环境应尽量模拟真实生产环境。
2. 测试过程中应遵循安全规范，避免数据泄露和系统损坏。

## 特性测试环境描述
| 硬件型号 | 硬件配置信息 | 备注 |
| -------- | ------------ | ---- |
| x86_64服务器 | CPU：2路32核 Intel(R) Xeon(R) Gold 5218 CPU @ 2.30GHz；Mem：512G DDR4；Disk：2*480 AVAGO ssd；Network：intel Corporation 82599ES 10-Gigabit SFI/SFP+ Network Connection |  |
| aarch64服务器 | CPU：2路96核 Kunpeng-920；mem：192G；disk：2* 960G；network：Huawei Technologies Co., Ltd. Hi1822 Family (4*25GE) |  |

## 测试计划
| Stage name | Begin time | End time | Days | 测试执行策略 | 备注 |
| :--------- | :--------- | :------- | ---- | ------------ | ---- |
| 功能测试阶段 | 2025-3-3 | 2025-3-10 | 6 | 执行所有功能测试用例，验证安装和配置的正确性 |  |
| 场景测试阶段 | 2025-3-3 | 2025-3-10 | 5 | 执行场景测试用例，模拟不同架构和Baseline下的使用场景 |  |
| 专项测试阶段 | 2025-3-3 | 2025-3-10 | 5 | 执行专项测试用例，评估性能等 |  |

## 入口标准
1. 功能开发已完成。
2. 上阶段无block问题遗留。
3. 基础功能验证正常。

## 出口标准
1. 策略规划的测试活动涉及测试用例100%执行完毕。
2. 性能基线、功能基线等满足特性规划目标。
3. 无block问题遗留，其它严重问题要有相应规避措施或说明。

# 附件
此处可粘贴各类专项测试数据或报告