![openEuler ico](../../images/openEuler.png)

版权所有 © 2024 openEuler社区  
您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA
4.0”)的约束。为了方便用户理解，您可以通过访问<https://creativecommons.org/licenses/by-sa/4.0/>了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA
4.0的完整协议内容您可以访问如下网址获取：<https://creativecommons.org/licenses/by-sa/4.0/legalcode>。

 修订记录

| 日期 | 修订版本     | 修改描述  | 作者 |
| ---- | ----------- | -------- | ---- |
| 2024-11-19 |  1.0.0    |  初稿     | 林孟孟 |

关键词：安全配置 自动化

摘要：实现一套统一的安全配置机制，用户可基于工具进行系统的安全配置，此外该工具还提供配置检查功能，在安全配置生效前进行检查，防止配置错误的情况发生。

缩略语清单：
| 缩略语 | 英文全名 | 中文解释 |
| ------ | -------- | -------- |

# 特性描述
<!-- 主要介绍特性实现的背景、功能以及作用 -->

背景：
当前openEuler安全特性正在与外部客户进行技术联创：
海康威视：基于安防一体机场景验证全量IMA保护技术；
天翼云：基于安全云主机场景验证IMA度量、DIM度量、可信启动技术（端到端可信度量）。
在联调过程中，海康和天翼云希望openEuler提供自动化的安全配置工具，实现安全特性的一键配置，简化客户业务逻辑实现。同时对于一些具备拦截功能的安全特性（如IMA评估、安全启动、访问控制等），在实际联调过程中发现，一旦用户未正确配置，可能导致系统无法启动或无法正常运行，且需要依赖openEuler开发人员投入定位。
因此，本需求旨在实现一套统一的安全配置机制，用户可基于工具进行系统的安全配置，此外该工具还提供配置检查功能，在安全配置生效前进行检查，防止配置错误的情况发生。

## 需求清单
NA


# 特性分层策略
## 总体测试策略
<!-- 主要描述特性的整体测试策略，主要开展哪些测试(接口/功能/场景/专项) -->

- 测试目标：覆盖接口测试，包括命令行参数测试，策略配置文件参数测试，配置脚本执行测试，检查脚本执行测试。覆盖openEuler安全配置基线自动配置，以及定制化增强安全配置工具。
- 时间进度：待评估
- 风险评估：NA
- 重点事项：同测试目标
- 争议事项：NA

## 特性测试约束
<!-- 主要描述特性测试的约束条件 -->

NA

## 接口测试
<!-- 主要描述接口级测试策略及测试设计思路 -->

| 接口描述 | 设计思路 | 测试重点 | 备注 |
| ------- | ------- | ------- | ---- |
| 命令行参数测试 | 针对每个待输入项（-o 路径）进行异常值、边界值测试  | 确认解析是否正常及符合预期  | NA  |
| 策略配置文件参数测试 | 对各种配置参数进行异常入参、入参边界值测试  | 确认能否正常生成配置脚本和检查脚本  | NA  |
| 配置脚本执行测试 | 针对各种场景生成的配置脚本，以及选择各类选项后，执行脚本  | 确认脚本执行符合预期  | NA  |
| 检查脚本执行测试 | 针对各种场景生成的检查脚本，以及选择各类选项后，执行脚本  | 确认脚本执行符合预期   | NA  |

## 功能测试
<!-- 主要描述特性提供的功能的测试策略及测试思路 -->

| 功能描述 | 设计思路 | 测试重点 | 备注 |
| ------- | ------- | ------- | ---- |
| openEuler安全配置基线自动配置 | 覆盖各规则（185条）：主观规则--检查并纠正  客观规则--只检查  |   主动构造各扫描规则不符合情况，使用工具扫描及修复   |      |
| 定制化增强安全配置工具 |  使用工具自动配置及检查ko强制验签，使用工具自动配置及检查安全启动；使用工具自动配置及检查IMA完整性保护；使用工具自动配置及检查DIM进程动态保护 |   验证开启强制验签，强制启动，IMA度量&DIM度量的结果符合预期   |  |



## 场景测试
<!-- 主要描述对特性使用的主要场景的测试策略及测试思路 -->

参考功能场景

## 专项测试
<!-- 主要描述其他专项测试,如安全测试 稳定性测试 性能测试 兼容性测试等 -->

NA

# 特性测试环境描述
<!-- 主要描述执行测试的硬件信息 -->
不涉及特殊硬件

| 硬件型号 | 硬件配置信息 | 备注 |
| -------- | ------------ | ---- |

# 特性测试执行策略

## 测试计划
<!-- 测试执行策略主要描述该轮次执行的分层策略中的测试项 -->

| Stange name   | Begin time | End time   | Days | 测试执行策略                   | 备注   |
| :------------ | :--------- | :--------- | ---- | ----------------------------- | ------ |
|     round2       |  2024/11/22        |2024/11/28       |     12|                    全量测试           |        |
|     round3-round4         |   2024/11/28         |  2024/12/12         |7      |   回归测试+长稳测试                            |        |

# 入口标准  
1.特性满足质量标准，达成需求设计要求目标

# 出口标准  
1.策略规划的测试活动涉及测试用例100%执行完毕  
2.版本无严重问题遗留，其他问题有规避措施

# 附件
