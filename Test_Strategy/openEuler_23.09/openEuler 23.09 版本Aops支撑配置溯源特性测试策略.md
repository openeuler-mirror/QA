![avatar](../../images/openEuler.png)

版权所有 © 2023 openEuler社区  
您对“本文档”的复制、使用、修改及分发受知识共享(Creative
Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA
4.0”)的约束。为了方便用户理解，您可以通过访问<https://creativecommons.org/licenses/by-sa/4.0/>
了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA
4.0的完整协议内容您可以访问如下网址获取：<https://creativecommons.org/licenses/by-sa/4.0/legalcode>。

修订记录

|    日期     |  修订版本 | 修改  章节 |  修改描述 |    作者     |
|  ---------- |----------|------------|----------|------------|
| 2023-09-10  |   1.0.0  |            |     初稿    |   junhui   |
|             |          |            |          |            |


目 录

1 概述

>   1.1 版本背景

>   1.2 需求范围

2 风险

3 测试分层策略

4 测试分析设计策略

>   4.1 新增feature测试设计策略

>   4.2 继承feature/组件测试设计策略

>   4.3 专项测试策略

5 测试执行策略

6 附件


**Keywords 关键词**：

Aops 配置溯源 测试策略

Abstract 摘要：

本文是Aops配置溯源特性在2309版本的整体测试策略，用于指导该版本后续的测试工作展开。

>   缩略语清单：

| 缩略语 | 英文全名 | 中文解释 |
|--------|----------|----------|
|        |          |          |
|        |          |          |

# <br>概述

Aops配置溯源功能主要用于对大批量节点进行管理时，批量管理操作各节点的配置文件，实现集成化管理系统文件的修改审计追踪功能。

本文主要描述Aops配置溯源特性的总体测试策略，按照社区开发模式进行运作，结合社区release-manager团队制定的版本计划规划相应的测试活动。整体测试策略覆盖新需求、继承需求的测试分析和执行，明确各个测试周期的测试策略及出入口标准，指导后续测试活动。


## 需求范围

|       no     |        feature      |      status     |        sig    |    owner    |    发布方式    |         涉及软件包列表        |
|--------------|----------------------|-----------------|---------------|-------------|---------------|-------------------------------|
|    I7MAWT   |    Aops支持配置溯源功能   |    Discussion   |   sig-ops    |    @byrobins   |   EPOL    |    A-Ops,aops-hermes,aops-zeus,aops-ceres   |


# 风险

这里可以呈现已识别的影响版本交付的风险，根据版本需求调查、技术分析和物料状况进行汇总，识别出当前版本风险&障碍列举如下：

| 问题类型 | 问题描述 | 问题等级 | 应对措施 | 责任人 | 状态 |
|----------|----------|----------|----------|--------|------|
|      暂无    |          |          |          |        |      |

# 测试分层策略

本次Aops配置溯源特性的具体测试分层策略如下：
|               需求                |              测试分层策略         |
|-----------------------------------|----------------------------------|
|   Aops支持系统目标配置文件溯源管理    |   验证Aops配置溯源管理的基本功能特性    |


# 测试分析设计策略
## 功能场景测试

| 序号 | Feature | 测试重点 | 设计思路 | 备注 |
| ------ | --------- | ------ | ---------- | ------ |
|     1   |     支持目标文件新增修改溯源配置基线化      |    目标配置文件正常基线化    |     创建目标配置文件基线模板       |   配置文件基线化的格式内容     |
|     2   |      节点上配置文件与溯源基线内容对比     |    配置文件差异正常对比    |      查看基线模板和节点配置文件内容差异      |    差异比对结果是否准确    |
|     3   |   支持查看配置文件修改记录内容  |    满足记录配置文件的操作记录保存   |   查询配置文件模板审计操作记录    |    操作记录变更以及变更内容   |
|     4   |   支持基线配置文件同步到各节点主机  |   基线文件同步到主机节点正常    |   配置文件基线模板内容同步节点主机文件    |    关注同步后的文件内容以及文件属性   |

## 接口测试
|   接口描述    |   设计思路    |   测试重点    |   备注    |
|---------------|--------------|-------------|------------|
|   添加修改配置文件基线模板    |    通过yang模型解析配置文件新增内容   |   解析文件内容的正确性    |   要覆盖不同格式的文件内容、路径参数    |
|    查询配置文件基线内容的同步状态   |    查询业务域下配置文件和节点主机文件差异   |   差异对比的同步逻辑    |  配置文件基线模板和节点主机文件在不同内容下的同步状态   |
|   同步配置文件基线内容到节点主机    |   基于ssh方式覆盖节点配置文件    |    关注覆盖后文件内容   |   不同传参，同步结果的正确性  |

## 专项测试策略

### 性能测试

1.批量进行配置文件基线化
2.并发同步多集群节点主机

### 安全测试

涉及文件上传的安全性测试场景

### 可靠性测试

暂无


### 资料测试

明确发布资料的测试策略，明确资料中英文测试策略，如下表格样式供参考：

| **手册名称** | **覆盖策略** | **中英文测试策略** |
|--------------|--------------|--------------------|
|     暂无         |              |                    |

# 测试执行策略
### 测试计划

Aops配置溯源特性需求按照社区开发模式进行运作，结合与 QA 团队制定的版本计划规划相应的测试活动。基于版本发布团队的计划制定整体测试计划及对应的测试活动。

### 测试重点

测试阶段1：
1.接口测试验证
2.KV类型配置文件基线化
3.配置文件基线化差异对比测试
4.测试用例验证

测试阶段2：
1.TEXT类型配置文件基线化
2.配置文件基线化记录审计追踪测试
3.测试用例验证

测试阶段3：
1.BASH类型配置文件基线化
2.配置文件基线同步节点主机测试

测试阶段4：
1.测试用例验证
2.测试问题回归验证


### 入口标准

1.业务功能流程开发完成
2.冒烟基础功能验证通过

### 出口标准

1. 策略规划的测试活动以及测试用例 100%执行完毕
2. 版本无严重问题遗留，其它严重问题要有相应规避措施或说明。

# 附件

*附件为本测试策略的补充部分*
