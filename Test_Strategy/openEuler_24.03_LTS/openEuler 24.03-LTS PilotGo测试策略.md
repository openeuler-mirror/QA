![openEuler ico](../../images/openEuler.png)

版权所有 © 2024 openEuler 社区  
您对“本文档”的复制、使用、修改及分发受知识共享(Creative
Commons)署名—相同方式共享 4.0 国际公共许可协议(以下简称“CC BY-SA
4.0”)的约束。为了方便用户理解，您可以通过访问<https://creativecommons.org/licenses/by-sa/4.0/>
了解 CC BY-SA 4.0 的概要 (但不是替代)。CC BY-SA
4.0 的完整协议内容您可以访问如下网址获取：<https://creativecommons.org/licenses/by-sa/4.0/legalcode>。

修订记录

| 日期     | 修订版本 | 修改 章节                | 修改描述 | 作者     |
| -------- | -------- | ------------------------ | -------- | -------- |
| 2024-3-1 | 1.0      | PilotGo 及其插件测试策略 | 初稿     | @wubijie |

目 录

1 概述

> 1.1 版本背景

> 1.2 需求范围

2 风险

3 测试分层策略

4 测试分析设计策略

> 4.1 新增 feature 测试设计策略

> 4.2 继承 feature/组件测试设计策略

> 4.3 专项测试策略

5 测试执行策略

6 附件

**Keywords 关键词**：PilotGo 及其插件测试策略
Abstract 摘要：本文是 PilotGo 24.03-LTS 版本的整体测试策略，用于指导该版本后续测试的展开。

缩略语清单：
| 缩略语 | 英文全名 | 中文解释 |
| ------ | -------- | -------- |
|        |          |          |

# <br>概述

PilotGo 是一个 openEuler 社区原生的运维管理平台。PilotGo 核心功能包括：集群管理、批次管理、主机管理、用户管理、权限管理、主机监控、运维审计等。PilotGo 采用插件式设计，增强平台的扩展性、并打通不同运维组件之间的壁垒。目前包括四个插件分别是：[PilotGo-plugin-grafana](https://gitee.com/src-openeuler/PilotGo-plugin-grafana)、[PilotGo-plugin-prometheus](https://gitee.com/src-openeuler/PilotGo-plugin-prometheus)、[PilotGo-plugin-a-tune](https://gitee.com/src-openeuler/PilotGo-plugin-a-tune)、[PilotGo-plugin-topology](https://gitee.com/src-openeuler/PilotGo-plugin-topology)。

本文主要描述 PilotGo 24.03-LTS 版本的总体测试策略，按照社区开发模式进行运作，结合社区 QA 团队制定的版本计划规划相应的测试活动。整体测试策略覆盖新需求的测试分析和执行，明确各个测试周期的测试策略及出入口标准，指导后续测试活动。

## 版本背景

_PilotGo 24.03-LTS 版本是基于 openEuler 24.03-LTS 制作，软件包选型与策略与 openEuler 保持一致。_

## 需求范围

_PilotGo 24.03-LTS 版本交付需求列表如下：_

> | _no_ | _feature_                                         | _status_  | _owner_   |
> | ---- | ------------------------------------------------- | --------- | --------- |
> | 1    | 支持一键安装或卸载 PilotGo-server/agent 软件包    | developed | @yangzhao |
> | 2    | 支持添加、删除用户及用户信息的修改                | developed | @yangzhao |
> | 3    | 支持角色的添加、修改、删除功能                    | developed | @yangzhao |
> | 4    | 支持部门树的添加、修改、删除功能                  | developed | @yangzhao |
> | 5    | 支持删除机器和变更机器部门功能                    | developed | @yangzhao |
> | 6    | 支持批次的添加、修改、删除功能                    | developed | @yangzhao |
> | 7    | 支持批量软件包下发和卸载功能                      | developed | @yangzhao |
> | 8    | 支持查看审计日志功能                              | developed | @yangzhao |
> | 9    | 支持机器 ip、内存、架构、系统版本等详细信息的查看 | developed | @yangzhao |
> | 10   | 支持服务的启动、停止、重启功能                    | developed | @yangzhao |
> | 11   | 支持 prometheus 插件                              | developed | @yangzhao |
> | 12   | 支持 grafana 插件                                 | developed | @yangzhao |
> | 13   | 支持 topology 插件                                | developed | @yangzhao |
> | 14   | 支持 a-tune 插件                                  | developed | @yangzhao |

# 风险

> | 问题类型 | 问题描述 | 问题等级 | 应对措施 | 责任人 | 状态 |
> | -------- | -------- | -------- | -------- | ------ | ---- |
> | 暂无     |          |          |          |        |      |

# 测试分层策略

_本次 PilotGo 24.03-LTS 版本的具体测试分层策略如下：_

> | _需求_                                               | _测试分层策略_                         |
> | ---------------------------------------------------- | -------------------------------------- |
> | 支持一键安装或卸载 PilotGo-server/agent 软件包       | 验证软件包的安装和卸载                 |
> | 支持添加、删除用户及用户信息的修改                   | 验证用户的增删改查功能                 |
> | 支持角色的添加、修改、删除功能                       | 验证角色的增删改查功能                 |
> | 支持部门树的添加、修改、删除功能                     | 验证部门树的增删改查功能               |
> | 支持删除机器和变更机器部门功能                       | 验证删除和分配机器功能                 |
> | 支持批次的添加、修改、删除功能                       | 验证批次增删改查功能                   |
> | 支持批量软件包下发和卸载功能                         | 验证批量下发和卸载功能                 |
> | 支持查看审计日志功能                                 | 验证日志详情的查看功能                 |
> | 支持机器 ip、内存、架构、系统版本等详细信息的查看    | 验证机器信息的显示功能                 |
> | 支持软件包的安装、卸载功能                           | 验证软件包的安装、卸载功能             |
> | 支持服务的启动、停止、重启功能                       | 验证服务的开启、关闭、重启功能         |
> | 支持 prometheus 插件监控机器性能指标，图表可视化展示 | 验证 prometheus 插件的功能             |
> | 支持 grafana 平台对接到 PilotGo                      | 验证 grafana 在 PilotGo 上是否可以使用 |
> | 支持 topology 插件自定义拓扑配置、查看拓扑图详情     | 验证 topology 插件的功能               |
> | 支持 a-tune 插件调优模板和调优任务的增删改查功能     | 验证 a-tune 插件的功能                 |

# 测试分析设计策略

## 新增 feature 测试设计策略

> | _序号_ | _Feature_                                                                | _重点_                       | _设计思路_                                                             | _备注_ |
> | ------ | ------------------------------------------------------------------------ | ---------------------------- | ---------------------------------------------------------------------- | ------ |
> | 1      | PilotGo-plugin-a-tune 插件支持查询、添加、修改、删除调优模板             | 调优模板的可用性             | 修改调优模板，查看模板是否更新                                         |        |
> | 2      | PilotGo-plugin-a-tune 插件支持查询、添加、修改、删除调优任务列表         | 调优任务列表的可用性         | 修改调优任务信息，查看调优任务详情                                     |        |
> | 3      | PilotGo-plugin-a-tune 插件支持单个调优任务的重启和详情查看               | 单个调优任务的重启和结果查看 | 开始或者终止调优任务，查看调优任务结果                                 |        |
> | 4      | PilotGo-plugin-topology 插件支持拓扑配置信息的自定义                     | 创建、修改、删除拓扑配置信息 | 设置节点筛选规则、标签注入规则、配置名等配置信息，查看配置信息的正确性 |        |
> | 5      | PilotGo-plugin-topology 插件支持查看所有机器的单机拓扑图和全局网络拓扑图 | 拓扑图的展示                 | 选择一个配置信息，查看产生的拓扑图                                     |        |

## 继承 feature/组件测试设计策略

_从老版本继承的功能特性的测试策略如下：_

> | _feature/组件_                                                     | _策略_                                             |
> | ------------------------------------------------------------------ | -------------------------------------------------- |
> | PilotGo 支持一键安装或卸载 PilotGo-server/agent 软件包             | 继承已有测试能力，PilotGo 可以正常启动和运行       |
> | PilotGo 支持添加、删除用户及用户信息的修改                         | 继承已有测试能力，满足用户信息的变更               |
> | PilotGo 支持角色的添加、修改、删除功能                             | 继承已有测试能力，满足不同角色的用户权限不同       |
> | PilotGo 支持部门树的添加、修改、删除功能                           | 继承已有测试能力，部门树信息的调整                 |
> | PilotGo 支持删除机器和变更机器部门功能                             | 继承已有测试能力，机器变更的修改                   |
> | PilotGo 支持批次的添加、修改、删除功能                             | 继承已有测试能力，批次功能的可用性                 |
> | PilotGo 支持批量软件包下发和卸载功能                               | 继承已有测试能力，软件包批次下发和卸载的可用性     |
> | PilotGo 支持查看审计日志功能                                       | 继承已有测试能力，记录用户在机器上的操作           |
> | PilotGo 支持机器 ip、内存、架构、系统版本等详细信息的查看          | 继承已有测试能力，机器详细信息的获取               |
> | PilotGo 支持软件包的安装、卸载功能                                 | 继承已有测试能力，软件包的安装、卸载               |
> | PilotGo 支持服务的启动、停止、重启功能                             | 继承已有测试能力，服务的正常操作                   |
> | PilotGo-plugin-grafana 插件支持对接 grafana 平台                   | 继承已有测试能力，连通 grafana 平台进行可视化      |
> | PilotGo-plugin-prometheus 插件支持监控机器性能指标，图表可视化展示 | 继承已有测试能力，连通 prometheus 平台进行数据展示 |

## 专项测试策略

### 安全测试

_PilotGo 作为社区开源版本，在系统整体安全上需要进行保证，以发现系统中存在的安全脆弱性与风险，为版本的安全提供切实的依据，推动产品完成安全问题整改，提高产品的安全。整体安全测试需要覆盖：_

> | _测试类型_ | _具体测试内容_                                                 |
> | ---------- | -------------------------------------------------------------- |
> | 安全性测试 | 除静态文件服务、登录、退出、插件清单等接口之外，所有接口的鉴权 |

### 可靠性测试

_可靠性是版本测试中需重点考虑的测试活动，在各类资源异常/抢占竞争/压力/故障等背景下，通过功能的并发、反复操作进行长时间的测试，及时发现系统/特性隐藏的问题。_

> | _测试类型_   | _具体测试内容_                                                                                                                                                                                       |
> | ------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
> | 压力长稳测试 | PilotGo 在批量 agent 连接、API 接口压测等压力测试下能够长时间稳定运行，单机可支持 6000 台，并发支持 200 台，且指标数据波动范围在预期范围内                                                           |
> | 基础功能测试 | 对用户管理、角色管理、机器管理、批次管理等功能进行测试                                                                                                                                               |
> | 操作响应测试 | 测试基本操作、软件包安装、卸载模块等操作时长。基本功能应当立即响应；单个软件包安装、卸载与软件包的大小、网络速度相关，批量操作任务提交应当立即响应，批次执行完成时间与批次大小、单个任务完成时间有关 |

### 兼容性测试

*PilotGo 在以下硬件进行安装适配和基本功能验证。*块的操作时长与单个任务时长和批

> | _型号_           |
> | ---------------- |
> | 鲲鹏 920         |
> | intel/amd x86-64 |

### 资料测试

_资料测试主要是对版本交付的资料进行测试，重点是保证各个资料描述说明的清晰性和功能的正确性，另外 openEuler 作为一个开源社区，除提供中文的资料还有英文文档也需要重点测试。资料交付清单如下：_

> | **手册名称**     | **覆盖策略**                         | **中英文测试策略** |
> | ---------------- | ------------------------------------ | ------------------ |
> | PilotGo 使用手册 | 安装步骤的准确性及各特性使用的正确性 | 当前仅支持中文版   |

# 测试执行策略

### 测试计划

_PilotGo 24.03-LTS 版本按照社区开发模式进行运作，结合与 QA 团队制定的版本计划规划相应的测试活动。基于版本发布团队的计划制定整体测试计划及对应的测试活动。_

### 测试重点

测试阶段 1：

1. 继承特性/新特性的基本功能
2. 安全测试及可靠性测试

测试阶段 2：

1. 继承特性/新特性的全量验证
2. 通过自动化覆盖重要组件的功能
3. 系统集成的正确性和完整性

测试阶段 3：

1. 问题单回归
2. 应用场景测试验证
3. 交付文档测试

### 入口标准

1. 上个阶段无 block 问题遗留

### 出口标准

1. 策略规划的测试活动涉及测试用例 100%执行完毕
2. 发布特性/新需求/性能基线等满足版本规划目标
3. 版本无严重问题遗留，其它严重问题要有相应规避措施或说明。

# 附件

_附件为本测试策略的补充部分_
