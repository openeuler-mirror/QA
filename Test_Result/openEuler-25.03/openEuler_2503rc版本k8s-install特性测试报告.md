![avatar](../images/openEuler.png)

版权所有 © 2020  openEuler社区
您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA 4.0”)的约束。为了方便用户理解，您可以通过访问https://creativecommons.org/licenses/by-sa/4.0/ 了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA 4.0的完整协议内容您可以访问如下网址获取：https://creativecommons.org/licenses/by-sa/4.0/legalcode。

修订记录

| 日期 | 修订版本 | 修改描述 | 作者 |
| ---- | -------- | -------- | ---- |
| 2025.3.10 | V1.0 | 审核通过 | 王麟 |

关键词：k8s-install, 云原生, 部署工具

摘要：本报告详细记录了k8s-install工具在openEuler 2503rc 版本上的测试情况，包括功能测试、性能测试、缺陷发现与解决等，旨在评估该工具在不同环境下的稳定性和可靠性。

缩略语清单：

| 缩略语 | 英文全名 | 中文解释 |
| ------ | -------- | -------- |
| k8s | Kubernetes | 容器编排系统 |
| rpm | Red Hat Package Manager | 软件包管理格式 |

# 1 特性概述

k8s-install工具提供了一键式安装部署云原生基础设施的能力，支持在线和离线安装模式，适用于多种系统架构和版本，极大地简化了Kubernetes集群的搭建过程。

# 2 特性测试信息

本节描述被测对象的版本信息和测试的时间及测试轮次，包括依赖的硬件。

| 版本名称 | 测试起始时间 | 测试结束时间 |
| -------- | ------------ | ------------ |
| k8s-install-V1.0 | 2025-3-5 | 2025-3-10 |

描述特性测试的硬件环境信息

| 硬件型号 | 硬件配置信息 | 备注 |
| -------- | ------------ | ---- |
| x86_64 | CPU：2路32核 Intel(R) Xeon(R) Gold 5218 CPU @ 2.30GHz；Mem：512G DDR4；Disk：2*480 AVAGO ssd；Network：intel Corporation 82599ES 10-Gigabit SFI/SFP+ Network Connection |  |
| aarch64 | CPU：2路96核 Kunpeng-920；mem：192G；disk：2* 960G；network：Huawei Technologies Co., Ltd. Hi1822 Family (4*25GE) |  |

# 3 测试结论概述

## 3.1 测试整体结论

k8s-install 工具在 openEuler 的 oe2503rc 架构和版本上进行了全面测试，共计执行9个测试用例，主要覆盖了功能测试、性能测试和异常处理测试。经过多轮测试，发docker安装支持baseline有125，129，k8s安装支持baseline仅129，离线需要用户自定义离线包。

测试活动 | 活动评价
---|---
接口测试 | 所有命令行接口调用正常，返回结果符合预期
功能测试 | 各项功能正常，安装、配置、清理等操作均能成功执行
专项测试 | 性能表现稳定，在高负载情况下仍能保持较好的响应能力

## 3.2 约束说明

- 使用k8s-install工具时，需确保系统满足最低硬件配置要求，且在网络连接正常的环境下进行在线安装操作。对于离线安装，需提前准备好自定义的完整离线包。
- 25.03仅支持k8s-1.29基线，不支持-b 120或-b 125参数。因为当前向下支持更低的k8s基线没有意义

## 3.3 遗留问题分析

### 3.3.1 遗留问题影响以及规避措施

无

### 3.3.2 问题统计

|     | 问题总数 | 严重  | 主要  | 次要  | 不重要  |
| --- | ---- | --- | --- | --- | ---- |
| 数目   | 0  | 0   | 0   | 0   | 0  |
| 百分比 | 0% | 0%  | 0%  | 0%  | 0% |

# 4 测试执行

## 4.1 测试执行统计数据

*本节内容根据测试用例及实际执行情况进行特性整体测试的统计，可根据第二章的测试轮次分开进行统计说明。*

| 版本名称             | 测试用例数 | 用例执行结果 | 发现问题单数 |
| ---------------- | ----- | ------ | ------ |
| k8s-install-V1.0 | 5     | 全部通过   | 0      |

### 数据项说明：
- 验证离线包和在线包安装的正确性。
- 验证k8s-install在离线和在线安装下的处理。
- 验证非法参数下的处理。

### 测试用例数，5个，包括在线的docker和k8s安装baseline测试，共计测试3个，到本测试活动结束时，所有可用测试用例数3个，包括docker安装支持129，k8s安装支持129, k8s安装与配置支持129:
- ./k8s-install -d oe2503 -i docker -b 129
- ./k8s-install -d oe2503 -i k8s -t containerd -n master -b 129
- ./k8s-install -d oe2503 -t containerd -n master -b 129

### 离线的包发布工具publish.sh测试（129基线 x86 aarch64），共计测试2个，到本测试活动结束时，所有可用测试用例数2个：
- ./publish.sh -b 129 -d oe2503 -a x86_64
- ./publish.sh -b 129 -d oe2503 -a aarch64

### 发现问题单数0个

## 4.2 后续测试建议

后续测试需要关注点：因为离线包的制作由用户自行操作，与，因此本次测试不覆盖离线包安装部署测试用例。
另外，可以考虑进行更多的压力测试、性能测试和长时间运行测试，以评估软件在不同负载下的表现和稳定性。另外，对于支持多基线版本的特性，希望后续版本可以加入。

# 5 附件

无
