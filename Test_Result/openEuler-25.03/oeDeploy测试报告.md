![avatar](../../images/openEuler.png)


版权所有 © 2023  openEuler社区
 您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA 4.0”)的约束。为了方便用户理解，您可以通过访问https://creativecommons.org/licenses/by-sa/4.0/ 了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA 4.0的完整协议内容您可以访问如下网址获取：https://creativecommons.org/licenses/by-sa/4.0/legalcode。

修订记录

| 日期 | 修订   版本 | 修改描述 | 作者 |
| ---- | ----------- | -------- | ---- |
|      |             |          |      |
|      |             |          |      |

关键词： 

摘要：


缩略语清单：

| 缩略语 | 英文全名 | 中文解释 |
| ------ | -------- | -------- |
|  k8s      |    kubernetes      |  开源容器编排平台        |
|        |          |          |

# 1     特性概述

描述特性提供的基本能力
1.通过oedp命令行（调用安装脚本）方式支持ray站式部署，ray分布式计算平台及其依赖部署（k8s）；
2.对k8s、kubeflow部署能力增强；
3.对EulerMaker工具部署增强。
# 2     特性测试信息

| 版本名称 | 测试起始时间 | 测试结束时间 |
| -------- | ------------ | ------------ |
|    25.03-x86/arm      |      2025.02.24        |     2025.03.17         |
|    24.03-LTS-SP1-x86/arm      |    2025.02.24          |   2025.03.17           |
|    22.03-LTS-SP4-x86/arm      |    2025.02.24          |   2025.03.17           |


蓝区虚拟机

| 硬件型号 | 硬件配置信息 | 备注 |
| -------- | ------------ | ---- |
|          |              |      |
|          |              |      |

# 3     测试结论概述

## 3.1   测试整体结论

共执行了14个用例，主要覆盖了功能测试、兼容性测试。重点关注oedeploy的部署功能测试，整体质量良好。
| 测试活动 | 测试子项 | 活动评价 |
| ------- | -------- | ------- |
| 功能测试 | k8s的自动化部署测试 |  良好    |
| 功能测试 | Ray的自动化部署测试 |  良好    |
| 功能测试 | kubeflow的自动化部署测试     |  良好    |
| 功能测试 | TensorFlow的自动化部署测试     |  良好    |
| 功能测试 | pytorch的自动化部署测试     | 良好     |
| 功能测试 | EulerMaker的自动化部署测试     |  良好    |
| 兼容性测试 |   跨版本部署测试       |  良好     |
| 兼容性测试 |   跨架构部署测试       |  良好     |


## 3.2   约束说明

特性使用时涉及到的约束及限制条件

## 3.3   遗留问题分析

### 3.3.1 遗留问题影响以及规避措施

| 序号 | 问题单号 | 问题简述 | 问题级别 | 影响分析 | 规避措施 | 历史发现场景 |
| --- | ------- | ------ | ------- | ------- | ------- | ---------- | 
| 1    |         | 目前缺少部署流程的日志记录功能，无法精确统计oedp插件部的署时长，以及进行可维护性测试       |    需求     |         |         |            |
|     |         |        |         |         |         |            |

### 3.3.2 问题统计

|        | 问题总数 | 严重 | 主要 | 次要 | 不重要 |
| ------ | -------- | ---- | ---- | ---- | ------ |
| 数目   |    1      |      |      |  1    |        |
| 百分比 |          |      |      |   100%   |        |

# 4 详细测试结论

## 4.1 功能测试
各插件配置好config.yaml文件后（master节点ip、worker节点ip等），均可实现通过oedp run install/uninstall命令一键部署/卸载。
k8s：1 master，1 worker
kubeflow：1 master，1 worker
ray：1 master，1 worker（部署时长3min9s）
pytorch：1 master，1 worker
TensorFlow：1 master，1 worker
EulerMaker：1 master（服务节点），1 worker（构建节点）
### 4.1.1 继承特性测试结论
不涉及


### 4.1.2 新增特性测试结论

| 序号 | 组件/特性名称 | 特性质量评估 | 备注 |
| --- | ----------- | :--------: | --- |
|1 |oeDeploy支持EulerMaker自动化部署 |<font color=green>■</font> |   |
|2 | oeDeploy支持虚拟机集群自动化部署k8s，并支持部署软件可扩展|<font color=green>■</font> |   |
|3 |oeDeploy支持kubeflow的自动化部署，并支持组件可自定义扩展，包括：Katib、Notebooks、Kserve | <font color=green>■</font>|   |
|4 |oeDeploy支持容器化部署cpu版本的TensorFlow、pytorch环境 |<font color=green>■</font> |   |
|5 |oeDeploy支持ray框架自动化部署，部署时长小于30min | <font color=green>■</font>| 实际部署时间平均小于5分钟  |

<font color=red>●</font>： 表示特性不稳定，风险高
<font color=blue>▲</font>： 表示特性基本可用，遗留少量问题
<font color=green>■</font>： 表示特性质量良好

## 4.2 兼容性测试结论
除Ray要求OS版本一致外，其他插件均可实现master节点与worker节点间的跨版本/架构部署。

# 5     测试执行

## 5.1   测试执行统计数据

*本节内容根据测试用例及实际执行情况进行特性整体测试的统计，可根据第二章的测试轮次分开进行统计说明。*

| 版本名称 | 测试用例数 | 用例执行结果 | 发现问题单数 |
| -------- | ---------- | ------------ | ------------ |
|     25.03     |     14       |     pass         |      0        |
|     24.03-SP1     |     14       |      pass        |      0        |
|     22.03-SP4     |     14       |      pass        |      0        |



## 5.2   后续测试建议

在日志功能实现后，可以构造异常测试场景，如模拟断电断网等情况，查看日志中有没有提供问题定位的片段。

# 6     附件

<测试用例.xlsx>

 



 

 
