![openEuler ico](../../images/openEuler.png)


版权所有 © 2023  openEuler社区
 您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA 4.0”)的约束。为了方便用户理解，您可以通过访问https://creativecommons.org/licenses/by-sa/4.0/ 了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA 4.0的完整协议内容您可以访问如下网址获取：https://creativecommons.org/licenses/by-sa/4.0/legalcode。

修订记录

| 日期 | 修订   版本 | 修改描述 | 作者 |
| ---- | ----------- | -------- | ---- |
| 2023年12月20日 | 初稿 | 增加进程完整性防护特性测试报告 | 王亭亭 |

 关键词： dim、动态度量、进程完整性

 

摘要：

 

缩略语清单：

| 缩略语 | 英文全名 | 中文解释 |
| ------ | -------- | -------- |
|        |          |          |
|        |          |          |

# 1     特性概述

DIM特性通过在程序运行时对内存中的关键数据（如代码段、数据段）进行度量，并将度量结果和基准值进行对比，确定内存数据是否被篡改，从而检测攻击行为，并采取应对措施。

# 2     特性测试信息

本节描述被测对象的版本信息和测试的时间及测试轮次，包括依赖的硬件。

| 版本名称 | 测试起始时间 | 测试结束时间 |
| -------- | ------------ | ------------ |
| openEuler 22.03 LTS-SP3 RC2 |	2023-12-02 | 2023-12-8 |


# 3     测试结论概述

## 3.1   测试整体结论

增加进程完整性防护，共计执行50个用例，主要覆盖了：
1、覆盖dim_core、dim_monitor模块的对外接口以及启动参数的正常值、异常值、边界值等测试；
2、覆盖dim_tools工具针对用户态程序、ko、内核代码生成静态基线测试；
3、覆盖用户态程序、ko、内核代码段在篡改前后的dim_core动态基线创建及度量测试；
4、覆盖度量策略篡改前后dim_monitor对dim_core的代码段和关键数据的动态基线创建及度量测试；
5、覆盖dim_core、dim_monitor模块各启动参数的功能测试，例如开启签名校验、配置度量算法、配置自动周期度量、配置度量调度时间等；
6、覆盖全量安装环境下，针对所有用户态程序、ko、内核代码段的动态基线创建及度量测试；
7、覆盖策略文件、静态基线文件、度量日志最大值测试；
8、覆盖dim_core、dim_monitor模块对外接口的并发测试，以及基线创建与卸载模块的并发测试；
9、覆盖反复进行dim_core、dim_monitor动态基线创建、动态度量测试。

综上，整体质量良好。

## 3.2   约束说明

1、对于用户态进程，仅支持度量文件映射代码段，不支持度量匿名代码段；
2、不支持度量内核热补丁；
3、仅支持主动触发机制，如果两次触发过程中发生了篡改-恢复的行为，会导致无法识别攻击；
4、对于主动修改代码段的场景（如代码段重定位、自修改或热补丁），会被识别为攻击；
5、对于内核、内核模块的度量，以触发动态基线时的度量结果作为度量基准值，静态基线值仅作为一个固定标识；
6、度量目标必须在触发动态基线的时刻就已在内存中加载（如进程运行或内核模块加载），否则后续无法度量；
7、在需要使用TPM芯片的PCR寄存器验证度量日志的场景下，DIM模块不允许卸载，否则会导致度量日志清空，而无法和PCR寄存器匹配。

## 3.3   遗留问题分析

### 3.3.1 遗留问题影响以及规避措施

| 问题单号 | 问题描述 | 问题级别 | 问题影响和规避措施 | 当前状态 |
| -------- | -------- | -------- | ------------------ | -------- |
| |  |  |  |  |

### 3.3.2 问题统计

|        | 问题总数 | 严重 | 主要 | 次要 | 不重要 |
| ------ | -------- | ---- | ---- | ---- | ------ |
| 数目   |  0 | 0 | 0 | 0| 0 |
| 百分比 |  0%  | 0% | 0% | 0% |   0%   |


# 4     测试执行

## 4.1   测试执行统计数据

*本节内容根据测试用例及实际执行情况进行特性整体测试的统计，可根据第二章的测试轮次分开进行统计说明。*

| 版本名称 | 测试用例数 | 用例执行结果 | 发现问题单数 |
| -------- | ---------- | ------------ | ------------ |
| openEuler 22.03 LTS-SP3 RC2 |  50  |  失败0个 |  0   |


*数据项说明：*

*测试用例数－－到本测试活动结束时，所有可用测试用例数；*

*发现问题单数－－本测试活动总共发现的问题单数。*
