![avatar](../../images/openEuler.png)


版权所有 © 2024  openEuler社区
 您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA 4.0”)的约束。为了方便用户理解，您可以通过访问https://creativecommons.org/licenses/by-sa/4.0/ 了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA 4.0的完整协议内容您可以访问如下网址获取：https://creativecommons.org/licenses/by-sa/4.0/legalcode。

修订记录

| 日期         | 修订   版本 | 修改描述 | 作者                                   |
| ---------- | ------- | ---- | ------------------------------------ |
| 2024-11-25 | v1.0.0  | 第一版  | [xiaochn](https://gitee.com/xiaochn) |
|            |         |      |                                      |

关键词： openEuler-lsb、自定义标识

摘要：本文为openEuler-lsb支持自定义发行版标识的功能测试报告。


缩略语清单：

| 缩略语 | 英文全名 | 中文解释 |
| ------ | -------- | -------- |
|        |          |          |
|        |          |          |

# 1     特性概述

下游分发厂商通常会自定义操作系统标识和版本信息，涉及openEuler-release等rpm包。

lsb_release会读取`/etc/%{_vendor}-release`文件获取信息，当对openEuler-release更换标识后（如在openEuler下游操作系统InLinux中，换标为InLinux-release）将无法获取/etc/openEuler-release文件，导致`lsb_release -a`获取信息不完整。

支持自定义发行版标识，可以在rpm包构建时自动根据宏`%{_vendor}`进行替换，减少其他下游分发厂商在更换标识过程中的改造工作量。
# 2     特性测试信息

本节描述被测对象的版本信息和测试的时间及测试轮次，包括依赖的硬件。

| 版本名称          | 测试起始时间     | 测试结束时间     |
| ------------- | ---------- | ---------- |
| 22.03-LTS-SP3 | 2024-10-30 | 2024-11-25 |


描述特性测试的硬件环境信息：

| 硬件型号    | 硬件配置信息 | 备注          |
| ------- | ------ | ----------- |
| 海光7380  |        | x86架构测试     |
| 鲲鹏920   |        | aarch64架构测试 |


# 3     测试结论概述

## 3.1   测试整体结论

共计执行2个用例，主要覆盖了功能测试和兼容性测试，无遗留风险，整体质量良好。

| 测试活动 | 测试子项 | 活动评价 |
| ------- | -------- | ------- |
| 功能测试 | 继承特性测试（x86/aarch64） |   良好   |
| 兼容性测试 | 版本升级测试（x86/aarch64） |   良好   |

## 3.2   约束说明
无

## 3.3   遗留问题分析

无

# 4 详细测试结论

## 4.1 功能测试

### 4.1.1 继承特性测试结论

| 序号 | 组件/特性名称 | 特性质量评估 | 备注 |
| --- | ----------- | :--------: | --- |
| 1 | lsb_release命令 | <font color=green>■</font> |   |

<font color=red>●</font>： 表示特性不稳定，风险高
<font color=blue>▲</font>： 表示特性基本可用，遗留少量问题
<font color=green>■</font>： 表示特性质量良好

## 4.2 兼容性测试结论

*针对应用软件，主要考虑OS版本兼容性(在不同LTS SPx上的兼容性)、升降级兼容性、上层以来软件兼容性（如升级mysql后，对版本内已发布的使用mysql的软件的兼容性）*

1、升级兼容性

结论：从本修改内容之前的版本（即5.0-1）升级到最新版本，可正常升级，未出现异常。

2、上层以来软件兼容性

查询openEuler-lsb所提供的能力都被哪些其他软件包依赖，未查询到软件包（查询结果：https://foruda.gitee.com/images/1732244548740621114/808c68cc_14334109.png ），因此无需测试上层以来软件兼容性。

# 5     测试执行

## 5.1   测试执行统计数据

| 版本名称          | 测试用例数 | 用例执行结果   | 发现问题单数 |
| ------------- | ----- | -------- | ------ |
| 22.03-LTS-SP3 | 2     | all pass | 0      |

测试结果截图：https://gitee.com/openeuler/mugen/pulls/3823

## 5.2   后续测试建议

无

# 6     附件

无
