![openEuler ico](../../images/openEuler.png)

版权所有 © 2024  openEuler社区
您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA 4.0”)的约束。为了方便用户理解，您可以通过访问https://creativecommons.org/licenses/by-sa/4.0/ 了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA 4.0的完整协议内容您可以访问如下网址获取：https://creativecommons.org/licenses/by-sa/4.0/legalcode。

修订记录

| 日期      | 修订   版本 | 修改描述                | 作者   |
| --------- | ----------- | ----------------------- | ------ |
| 2024/8/25  | v1.0        |OS支持故障CPU核隔离，隔离信息需要记录日志
测试报告 | 孙尚 |

关键词： CPU核隔离

摘要：sysSentry为OS故障巡检框架，给用户提供在后台进行故障巡检的能力，通过提前发现系统中的软硬件故障（例如内存UCE）并及时通知系统运维人员处理，从而达到减少故障演变为现网事故、提升系统可靠性的目标。
依据测试要求，对OS与BMC间的通信通道进行功能测试、可靠性测试和稳定性测试。

# 1     特性概述

本特性为新增OS与与BMC间的通信通道，基于sysSentry巡检框架提供与BMC之间的通信协议接口，通过IPMI接口实现与BMC的交互。

1）	libxalarm.so库提供信息传输标准接口，各个巡检插件通过调用标准接口实现将信息从组件发送至sysSentry服务；

2）	sysSentry服务接收巡检插件发送过来的信息，并对信息进行处理后发送到用户指定的模块（如BMC）。

# 2     特性测试信息

本节描述被测对象的版本信息和测试的时间及测试轮次，包括以来的硬件。

| 版本名称                    | 测试起始时间 | 测试结束时间 |
| --------------------------- | ------------ | ------------ |
| openEuler-22.03-LTS-SP4     | 2024-08-12   | 2024-08-18   |
| openEuler-22.03-LTS-SP4     | 2024-08-21   | 2024-08-28   |

描述特性测试的硬件环境信息

| 硬件型号                  | 硬件配置信息                              | 备注                   |
| ------------------------ | ----------------------------------------- | ---------------------- |
| NA | NA |    虚拟机     |

# 3     测试结论概述

## 3.1   测试整体结论
本次测试一共执行两轮，
执行10个继承测试用例，主要覆盖
1.onstart参数—不同任务类型配置不同onstart参数
2.conflict参数—多任务之间的冲突影响
两个参数的功能测试
第一轮执行10个用例，发现1个问题，第二轮执行10个用例，发现0个问题。

## 3.2   约束说明

NA

## 3.3   遗留问题分析

### 3.3.1 遗留问题影响以及规避措施

无遗留问题

### 3.3.2 问题统计

共1个问题，1个回归通过

# 4     测试执行

|  测试类型 |测试内容   |测试结论   |
| ------------ | ------------ | ------------ |
| 功能测试  | 两个conflict=up任务功能校验|测试通过|
| 功能测试  |两个conflict=down任务功能校验|测试通过|
| 功能测试  |两个conflict=kill任务功能校验|测试通过|   
| 功能测试  |一个conflict=up任务，一个conflict=down任务功能校验|测试通过|   
| 功能测试  |一个conflict=up任务，一个conflict=kill任务功能校验|测试通过|   
| 功能测试  |一个conflict=kill任务，一个conflict=down任务功能校验|测试通过|   
| 功能测试  |period类型任务配置onstart=yes|测试通过|   
| 功能测试  |period类型任务配置onstart=no|测试通过|   
| 功能测试  |oneshot类型任务配置onstart=yes|测试通过|   
| 功能测试  |oneshot类型任务配置onstart=no|测试通过|   

## 4.1   测试执行统计数据


| 版本名称                    | 测试用例数 | 用例执行结果       | 发现问题单数 |
| --------------------------- | ---------- | ------------------ | ------------ |
| openEuler-22.03-LTS-SP4     |   10        | 一个不通过 | 1            |
| openEuler-22.03-LTS-SP4     |   10        | 通过 | 0           |