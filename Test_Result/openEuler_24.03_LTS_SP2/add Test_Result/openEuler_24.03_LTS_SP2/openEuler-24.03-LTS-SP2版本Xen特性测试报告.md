![avatar](../../images/openEuler.png)


版权所有 © 2025  openEuler社区您对“本文档”的复制、使用、修改及分发受知识共享(Creative Commons)署名—相同方式共享4.0国际公共许可协议(以下简称“CC BY-SA 4.0”)的约束。为了方便用户理解，您可以通过访问https://creativecommons.org/licenses/by-sa/4.0/ 了解CC BY-SA 4.0的概要 (但不是替代)。CC BY-SA 4.0的完整协议内容您可以访问如下网址获取：https://creativecommons.org/licenses/by-sa/4.0/legalcode。

修订记录

| 日期 | 修订   版本 | 修改描述 | 作者 |
| ---- | ----------- | -------- | ---- |
|  2025/06/03    |      v1.0       |    测试报告初版      |  huanghongshuai    |

关键词： Xen、Linux、实时OS、OEE、KP920

摘要：本报告主要描述基于openEuler 24.03-LTS-SP2版本对Xen支持同时运行Linux和实时OS特性的测试过程，报告对测试情况进行说明，对特性的测试充分度进行评估和总结


# 1     特性概述

混合部署场景中需要通过不同的虚拟化底座达到高实时、高可靠、高安全的场景诉求。而Xen作为生态丰富、功能灵活的type-1 hypervisor，在需要灵活资源管理等场景中会被用户选做混合部署的虚拟化底座。因此该特性需要在OEE中支持Xen镜像构建，并可同时运行Linux（特权域Dom0）和实时OS（非特权域DomU）。

# 2     特性测试信息

本节描述被测对象的版本信息和测试的时间及测试轮次，包括依赖的硬件。

| 版本名称 | 测试起始时间 | 测试结束时间 |
| -------- | ------------ | ------------ |
|  openEuler-24.03-LTS-SP2        |    2025.05.26          |      2025.05.30        |


描述特性测试的硬件环境信息

| 硬件型号 | 硬件配置信息 | 备注 |
| -------- | ------------ | ---- |
|    KP920      |   ARM64架构，4核，内存约3419M（xen模式下分配给linux 1024M）           |  使用USB作为安装磁盘，使用ttyAMA0串口显示    |


# 3     测试结论概述

## 3.1   测试整体结论
Xen支持同时运行Linux和实时OS特性测试，合计执行4个用例，主要覆盖了OS安装测试、Dom0/DomU的使能测试和资料测试。该版本共发现问题0个，无遗留风险，整体质量良好。


## 3.2   约束说明

* 为后续兼容mcs特性，构建镜像-f参数需同时指定xen和mcs。
* 暂不支持和其他混合部署底座同时使用，例如baremetal、jailhouse。
* Xen原生功能未做自研增强，虚拟化等具体功能跟随Xen开源社区的约束。
* 如果KP920设备bios未使能IOMMU/SMMU，则无法使用nvme作为启动磁盘，可以用USB代替。

# 4 详细测试结论

## 4.1 功能测试

| 测试活动 | 测试子项 | 活动评价 |
| ------- | -------- | ------- |
| 功能测试 | Xen配置文件检查 |  质量良好    |
| 功能测试 | 通过Xen启动Linux |  质量良好    |
| 功能测试 | 通过Xen工具栈引导一个实时OS |  质量良好    |



## 4.2 资料测试结论

| 测试类型 | 测试内容 | 测试结论 |
| ------- | -------- | ------- |
| Xen支持同时运行Linux和实时OS资料指南 | 检视内容正确性、完整性、一致性，可读性 | 测试通过，质量良好 |



# 5     测试执行

## 5.1   测试执行统计数据

*本节内容根据测试用例及实际执行情况进行特性整体测试的统计，可根据第二章的测试轮次分开进行统计说明。*

| 版本名称 | 测试用例数 | 用例执行结果 | 发现问题单数 |
| -------- | ---------- | ------------ | ------------ |
|    openEuler-24.03-LTS-SP2      |      4      |      PASS        |      0        |



# 6     附件
无
