

关键词： 
VirtCCA

摘要：
在openEuler24.03 LTS-SP1版本中提供libvirt、QEMU、edk2版本的RPM安装包，方便用户快速部署VirtCCA。

# 1 特性概述

VirtCCA是一种在可信的硬件基础上，通过隔离、加密、证明等机制，保护使用中数据安全的计算模式机密虚机特性，机密虚机支持uefi启动合入openEuler24.03 LTS SP1，该版本中提供libvirt、QEMU、edk2 版本的RPM安装包，方便用户快速部署VirtCCA。

# 2 特性测试信息

| 版本名称 | 测试起始时间 | 测试结束时间 |
| -------- | -------- | -------- |
|   openEuler 24.03 LTS SP1 |   2025-02-10 |  2025-02-24  |

描述特性测试的硬件环境信息

| 硬件型号 | 硬件配置信息 | 备注 |
| -------- | -------- | -------- |
|   NA  |  NA |  虚拟机  |

# 3 测试结论概述

# 3.1  测试整体结论
VirtCCA机密虚机支持UEFI启动特性合入openEuler24.03 LTS-SP1，针对UEFI启动机密虚机场景整体进行了功能、性能、可靠性、兼容性、资料测试，共执行用例313个，包括机密虚拟的基本功能测、远程证明能力、Sealing key能力、设备直通以及国密硬件加速能力；完成了功能、兼容性、可靠性以及资料测试。该版本共发现问题5个，其中3个提示，2个一般，遗留1个问题单，整体质量良好。 |


# 3.2  约束说明
|机型|TaiShan200 2280|
| -------- | -------- |
|iBMC|5.5.12.5|
|BIOS|20.47|
|CPU|Kunpeng 920 7280Z|
|硬盘|系统盘：1*T NVME|
|OS|openEuler 24.03 LTS SP1|
|libvirt|9.10.0|
|qemu|8.2.0|
|kernel|6.6|
|edk2|openEuler_24.03_LTS_SP1|
 

# 3.3  遗留问题分析

# 3.3.1 遗留问题影响以及规避措施
| 序号 | 问题单号 | 问题简述 | 问题级别 | 影响分析 | 规避措施 | 历史发现场景| 
| -------- | -------- | -------- | -------- | -------- | -------- | -------- |
|  1| DTS2025022104595| 以UEFI方式启动机密虚机，无法使能IMA度量 | 一般 |  不支持IMA度量 | NA | NA |

# 3.3.2 问题统计
无

# 4 详细测试结论

# 4.1 功能测试
# 4.1.1 继承特性测试结论

| 序号 | 组件/特性名称 | 特性质量评估 | 备注 |
| -------- | -------- | -------- | -------- |
| 1 | 机密虚机支持direct启动 | 特性质量良好 | 无 |


# 4.1.2 新增特性测试结论

| 序号 | 组件/特性名称 | 特性质量评估 | 备注 |
| -------- | -------- | -------- | -------- |
| 1 | 机密虚机支持UEFI启动| 特性质量良好 | 无 |

# 4.2 兼容性测试结论
针对VirtCCA机密虚机特性，主要验证了两种虚机的启动方式，兼容性测试结论通过。

# 4.3 DFX专项测试结论

# 4.3.1 性能测试结论

NA

# 4.3.2 可靠性/韧性测试结论

| 测试类型  | 测试类容  | 测试结论 |
| -------- | -------- | -------- |
| 并发测试 | 16个虚拟机使用virsh同时创建再同时删除| PASS |
| 压力测试 | 反复使能KAE | PASS |
| 可靠性测试 | 单虚机轮流挂载不同设备 | PASS |
| 可靠性测试 | 单设备不同虚机轮流挂载 | PASS |
| 故障测试 | 宿主机注入故障、虚拟机注入故障 | PASS |

# 4.3.3 安全测试结论
安全测试用例主要包括开源及第三方软件生命周期与漏洞测试，源码安全审计，安全编译选项，工具静态安全扫描。该特性经过安全测试活动评估，用例均通过，无风险。

# 4.4 资料测试结论
版本特性指南及版本说明书和使用手册已添加VirtCCA机密虚机支持UEFI启动。


# 4.5 其他测试结论
无

# 5 测试执行
# 5.1   测试执行统计数据
|         版本名称         | 测试用例数| 用例执行结果  | 发现问题单数 |
| ----------------------- | ---------| --------------| ---------  |
| openEuler24.03 LTS SP1 |    313  |     通过312个  |     5      |


# 5.2   后续测试建议
N/A

# 6 附件
N/A
